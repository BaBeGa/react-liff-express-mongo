(this["webpackJsonpreact-liff"]=this["webpackJsonpreact-liff"]||[]).push([[0],{22:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){},34:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s(0),i=s(13),n=s.n(i),c=s(16),u=(s(22),s(10)),l=s.n(u),h=s(14),j=s(4),o=s(5),p=s(7),d=s(6),m=s.p+"static/media/logo.6ce24c58.svg",b=(s(24),s(25),function(e){Object(p.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(j.a)(this,s),(r=t.call(this,e)).state={user:{name:"",email:"",userLineID:"",pictureUrl:"",statusMessage:""}},r}return Object(o.a)(s,[{key:"getUser",value:function(){var e=localStorage.getItem("user");e&&(this.user=JSON.parse(e)),console.log("getuser: ",this.user),this.setState({user:this.user})}},{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("div",{className:"support",children:this.state.user.pictureUrl&&""!==this.state.user.pictureUrl?Object(r.jsx)("img",{width:"25%",src:this.state.user.pictureUrl}):Object(r.jsx)("p",{children:"pictureUrl = null"})}),Object(r.jsxs)("div",{className:"userData",children:[this.state.user.name&&""!==this.state.user.name?Object(r.jsxs)("p",{children:["Name: ",this.state.user.name]}):Object(r.jsx)("p",{children:"Name = null"}),this.state.user.email&&""!==this.state.user.email?Object(r.jsxs)("p",{children:["e-mail: ",this.state.user.email]}):Object(r.jsx)("p",{children:"email = null"}),this.state.user.userLineID&&""!==this.state.user.userLineID?Object(r.jsxs)("p",{children:["LineID: ",this.state.user.userLineID]}):Object(r.jsx)("p",{children:"LineID = null"}),this.state.user.statusMessage&&""!==this.state.user.statusMessage?Object(r.jsxs)("p",{children:["statusMessage: ",this.state.user.statusMessage]}):Object(r.jsx)("p",{children:"statusMessage = null"})]})]})}}]),s}(a.Component)),g=window.liff,O=function(e){Object(p.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(j.a)(this,s),(r=t.call(this,e)).getList=function(){fetch("/api/getList").then((function(e){return e.json()})).then((function(e){return r.setState({user:e})}))},r.state={user:{name:"",email:"",userLineID:"",pictureUrl:"",statusMessage:""}},r}return Object(o.a)(s,[{key:"getProfile",value:function(){var e=this,t=localStorage.getItem("user");t&&(this.user=JSON.parse(t)),this.setState({user:this.user}),console.log("user : ",this.user),this.user||g.init({liffId:"1655424183-wzDgvLRj"},Object(h.a)(l.a.mark((function t(){var s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g.isLoggedIn()){t.next=11;break}return t.next=3,g.getProfile();case 3:return s=t.sent,t.next=6,g.getDecodedIDToken();case 6:r=t.sent,e.setState({user:{name:s.displayName,email:r.email,userLineID:s.userId,pictureUrl:s.pictureUrl,statusMessage:s.statusMessage}}),e.saveUser(),t.next=12;break;case 11:g.login();case 12:case"end":return t.stop()}}),t)}))))}},{key:"saveUser",value:function(){var e=JSON.stringify(this.state.user);localStorage.setItem("user",e)}},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"render",value:function(){return this.user?Object(r.jsx)("div",{children:Object(r.jsx)(b,{})}):Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)("img",{src:m,className:"App-logo",alt:"logo"}),Object(r.jsxs)("p",{children:["Edit ",Object(r.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(r.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]}),Object(r.jsx)("div",{className:"support",children:this.state.user.pictureUrl&&""!==this.state.user.pictureUrl?Object(r.jsx)("img",{width:"25%",src:this.state.user.pictureUrl}):Object(r.jsx)("p",{children:"pictureUrl = null"})}),Object(r.jsxs)("div",{className:"userData",children:[this.state.user.name&&""!==this.state.user.name?Object(r.jsxs)("p",{children:["Name: ",this.state.user.name]}):Object(r.jsx)("p",{children:"Name = null"}),this.state.user.email&&""!==this.state.user.email?Object(r.jsxs)("p",{children:["e-mail: ",this.state.user.email]}):Object(r.jsx)("p",{children:"email = null"}),this.state.user.userLineID&&""!==this.state.user.userLineID?Object(r.jsxs)("p",{children:["LineID: ",this.state.user.userLineID]}):Object(r.jsx)("p",{children:"LineID = null"}),this.state.user.statusMessage&&""!==this.state.user.statusMessage?Object(r.jsxs)("p",{children:["statusMessage: ",this.state.user.statusMessage]}):Object(r.jsx)("p",{children:"statusMessage = null"})]})]})}}]),s}(a.Component),f=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,n=t.getTTFB;s(e),r(e),a(e),i(e),n(e)}))};n.a.render(Object(r.jsx)(c.a,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),f()}},[[34,1,2]]]);
//# sourceMappingURL=main.0ed979aa.chunk.js.map